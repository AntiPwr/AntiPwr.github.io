<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Development - Download and Upload - Scape Wiki</title>
    <link rel="stylesheet" href="../css/scape_wiki_base.css">
    <link rel="stylesheet" href="https://use.typekit.net/hpo3tdq.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Dev-only download and upload page.">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="left-nav">
                <button class="open-btn" id="open-btn">&#9776;</button>
                <a href="scape_wiki_homepage.html" class="title">Scape Wiki</a>
            </div>
            <ul class="nav-links">
                <li><a href="../toma_eco_map.html">Toma Map</a></li>
                <li><a href="../scape_timeline.html">Toma Timeline</a></li>
                <li><a href="../../index.html">Sea Level</a></li>
                <li><a href="../scape_about.html">About</a></li>
            </ul>
            <div class="nav-search">
                <input type="text" placeholder="Search..." aria-label="Search Scape Wiki">
            </div>
        </div>
    </nav>

    <aside class="sidebar" id="sidebar">
        <ul class="sidebar-links">
            <li><a href="#Template-Title">Template Title</a></li>
        </ul>
    </aside>

    <main class="content">
        <div id="dev-unlock-overlay" class="dev-unlock-wrapper" style="display:none;">
            <div class="dev-unlock-msg">
                <strong>This page is password-protected.</strong><br>
                <div class="dev-unlock-info-box" style="margin:1em 0;padding:0.8em 1em;background:#f5f7fa;border-left:4px solid #4a90e2;border-radius:4px;">
                    This password can be found on <a href="https://discord.gg/nwj2bFuf" target="_blank" rel="noopener">Sea Level Discord Server</a> pinned in the "#game-files" chat under the "game" category.
                </div>
                <input id="dev-unlock-password" type="password" placeholder="Enter password..." autocomplete="current-password" style="margin-bottom:0.5em;">
                <button id="dev-unlock-btn">Unlock</button>
                <div id="dev-unlock-error" style="color:#c00;margin-top:0.5em;display:none;">Incorrect password. Try again.</div>
            </div>
        </div>
        <div id="markdown-content" class="wiki-content" data-md-file="Development - Download and Upload.md" style="display:none;"></div>
    </main>

    <footer class="footer">
        <p>2024 Sea Level</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/showdown/dist/showdown.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2/dist/fuse.min.js"></script>
    <script src="../js/mdparse.js"></script>
    <script src="../js/sidebar.js"></script>
    <script src="../js/search.js"></script>
    <script src="../js/404redirect.js"></script>
    <script src="../js/wiki_preview.js"></script>
</body>
<script>
// --- Dev Page Password Unlock Logic ---
const PASSWORD_KEY = 'dev-unlock-Development-Download-Upload';
const CORRECT_PASSWORD = 'Unitas'; // <-- Replace with your actual password

function showUnlockOverlay(show) {
    document.getElementById('dev-unlock-overlay').style.display = show ? '' : 'none';
    document.getElementById('markdown-content').style.display = show ? 'none' : '';
}

function checkUnlock() {
    if (localStorage.getItem(PASSWORD_KEY) === 'unlocked') {
        showUnlockOverlay(false);
    } else {
        showUnlockOverlay(true);
    }
}

window.addEventListener('DOMContentLoaded', function() {
    checkUnlock();
    document.getElementById('dev-unlock-btn').onclick = function() {
        const input = document.getElementById('dev-unlock-password').value;
        if (input === CORRECT_PASSWORD) {
            localStorage.setItem(PASSWORD_KEY, 'unlocked');
            showUnlockOverlay(false);
        } else {
            document.getElementById('dev-unlock-error').style.display = '';
        }
    };
    document.getElementById('dev-unlock-password').addEventListener('keydown', function(e) {
        if (e.key === 'Enter') document.getElementById('dev-unlock-btn').click();
    });
});
</script>
</body>
</html>
